# Item CF

判断物品相似度还可以用知识图谱

Item CF = 用户对历史交互物品A兴趣（比如点击是1分，点赞是2分）* 待计算物品和A的相似度 + 用户对历史交互物品B兴趣* 待计算物品和B的相似度 + ...

相似度 = 同时喜欢（没有区分喜欢的程度）两物品的人数 / 喜欢物品A的人数 * 喜欢物品B的人数 的 平方根

![[Pasted image 20250922232400.png]]

余弦相似度

先做离线计算 - 维护两个索引：==索引可以避免枚举所有物品==
+ 用户 - > 物品 给定用户ID 返回最近交互的物品 ==这个列表长度是否固定？==
+ 物品 - > 物品 给定物品ID 返回==最相似的k个物品==

线上召回 - 先找到last-n物品列表 即参与计算的用户 - > 物品列表长度是固定的n
再取回topk物品 一共有nk个物品

离线计算量大 线上召回计算量小